<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Personal Insurance Chatbot â€” Fullstack JS (Vite + Express + MongoDB)</h1>
<p>Chatbot Ã  dÃ©ployer en local pour poser des questions sur ses contrats d'assurance sans envoyer ses infos persos Ã  OpenAI.</p>
<h2>But du projet</h2>
<p>DÃ©velopper une application capable d'assister un utilisateur dans la comprÃ©hension de ses contrats d'assurance, Ã  l'aide d'un chatbot intelligent.</p>
<h2>Etat actuel (Livrables semaine 8 projet fil rouge)</h2>
<p>Finalisation d'un POC prÃ©sentable, avec :</p>
<ul>
<li>âœ… Nouvelle identitÃ© visuelle : thÃ¨me <em>matcha</em> et mascotte &quot;Macaron&quot;</li>
<li>âœ… AmÃ©liorations UX : tooltip, suppression/renommage de conversations via l'UI</li>
<li>âœ… Page &quot;BibliothÃ¨que&quot; pour consulter les contrats indexÃ©s</li>
<li>âœ… Refonte du prompt et amÃ©lioration des mÃ©tadonnÃ©es (PDF, rÃ´les assistant/bot)</li>
</ul>
<h2>Suivis des changements entre les livrables</h2>
<table>
<thead>
<tr>
<th>Semaine</th>
<th>Tag</th>
<th>Description</th>
<th>Historique GitHub</th>
</tr>
</thead>
<tbody>
<tr>
<td>6</td>
<td><code>week-06</code></td>
<td>Mise en place de la structure fullstack du chatbot</td>
<td><a href="https://github.com/J28u/insurance_assistant/compare/204a969...week-06">Voir commits</a></td>
</tr>
<tr>
<td>7</td>
<td><code>week-07</code></td>
<td>IntÃ©gration dâ€™un RAG classique</td>
<td><a href="https://github.com/J28u/insurance_assistant/compare/week-06...week-07">Voir commits</a></td>
</tr>
<tr>
<td>8</td>
<td><code>week-08</code></td>
<td>Finalisation d'un POC prÃ©sentable</td>
<td><a href="https://github.com/J28u/insurance_assistant/compare/week-07...week-08">Voir commits</a></td>
</tr>
</tbody>
</table>
<h2>ğŸ“ Structure du projet</h2>
<pre class="prettyprint source"><code>.
â”œâ”€â”€ backend/                        # Backend Node.js : API Express + Mongoose (MongoDB)
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ models/                 # SchÃ©mas Mongoose pour les collections MongoDB
â”‚       â”‚   â”œâ”€â”€ Conversation.js
â”‚       â”‚   â”œâ”€â”€ Message.js
â”‚       â”‚   â””â”€â”€ User.js
â”‚       â”œâ”€â”€ routes/                 # Routes Express pour l'API REST
â”‚       â”‚   â”œâ”€â”€ conversations.js    # Routes pour la gestion des conversations
â”‚       â”‚   â”œâ”€â”€ retriever.js        # Routes pour la rÃ©cupÃ©ration de documents pertinents et du prompt enrichi.
â”‚       â”‚   â””â”€â”€ upload.js           # Routes pour le chargement des documents pdfs
â”‚       â””â”€â”€ index.js                # Point d'entrÃ©e backend : connexion DB et configuration des routes
â”‚
â”œâ”€â”€ frontend/                       # Frontend React (Vite)
â”‚   â”œâ”€â”€ public/                     # Fichiers statiques accessibles par le navigateur
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ assets/                 # Images, polices, etc.
â”‚       â”œâ”€â”€ components/             # Composants React rÃ©utilisables
â”‚       â”‚   â”œâ”€â”€ Chat.jsx
â”‚       â”‚   â”œâ”€â”€ Conversation.jsx
â”‚       â”‚   â”œâ”€â”€ LLMInput.jsx
â”‚       â”‚   â”œâ”€â”€ Home.jsx
â”‚       â”‚   â””â”€â”€ Library.jsx
â”‚       â”œâ”€â”€ App.jsx                 # Composant racine de l'application
â”‚       â”œâ”€â”€ index.css               # Styles globaux
â”‚       â”œâ”€â”€ main.jsx                # Point d'entrÃ©e principal React
â”‚       â””â”€â”€ style.css               # Styles spÃ©cifiques (boutons, spinner, etc.)
â”‚
â”œâ”€â”€ kedro_pipelines/                # Pipelines de Machine Learning/Data avec Kedro
â”‚   â”œâ”€â”€ conf/                       # Configuration Kedro (catalogues, paramÃ¨tres, logs, prompts)
â”‚   â”‚   â”œâ”€â”€ base/
â”‚   â”‚   â”‚   â”œâ”€â”€ catalog.yml         # DÃ©finition des datasets (inputs/outputs)
â”‚   â”‚   â”‚   â””â”€â”€ parameters.yml      # ParamÃ¨tres globaux des pipelines
â”‚   â”‚   â”œâ”€â”€ local/
â”‚   â”‚   â”‚   â””â”€â”€ credentials.yml     # Secrets et credentials (non versionnÃ©s)
â”‚   â”‚   â”œâ”€â”€ prompt_template/
â”‚   â”‚   â”‚   â””â”€â”€ prompt_assistant.txt # Template de prompt pour le RAG (contexte + question)
â”‚   â”‚   â”œâ”€â”€ logging.yml             # Configuration des logs Kedro
â”‚   â”‚   â””â”€â”€ README.md               # Documentation des configs (gÃ©nÃ©rÃ©e par Kedro)
â”‚   â”œâ”€â”€ data/                       # DonnÃ©es du pipeline (non versionnÃ©es)
â”‚   â”‚   â”œâ”€â”€ 01_raw/                 # DonnÃ©es brutes
â”‚   â”‚   â”œâ”€â”€ 02_intermediate/        # DonnÃ©es intermÃ©diaires
â”‚   â”‚   â”œâ”€â”€ 03_primary/             # DonnÃ©es primaires
â”‚   â”‚   â”œâ”€â”€ 04_feature/             # Features extraites
â”‚   â”‚   â”œâ”€â”€ 05_model_input/         # DonnÃ©es prÃªtes pour les modÃ¨les
â”‚   â”‚   â”œâ”€â”€ 06_models/              # ModÃ¨les entraÃ®nÃ©s
â”‚   â”‚   â”œâ”€â”€ 07_model_output/        # PrÃ©dictions, rÃ©sultats de modÃ¨les
â”‚   â”‚   â””â”€â”€ 08_reporting/           # Rapports, visualisations
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ rag/                    # Package principal Kedro
â”‚   â”‚       â”œâ”€â”€ datasets/           # Datasets personnalisÃ©s (ex: FAISS)
â”‚   â”‚       â”‚   â””â”€â”€ faiss_vectorstore_dataset.py
â”‚   â”‚       â”œâ”€â”€ pipelines/
â”‚   â”‚       â”‚   â”œâ”€â”€ embedding/      # Pipeline d'embedding (vectorisation des documents)
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ nodes.py
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ pipeline.py
â”‚   â”‚       â”‚   â””â”€â”€ rag_classic/    # Pipeline RAG classique (retrieval + prompt)
â”‚   â”‚       â”‚       â”œâ”€â”€ nodes.py
â”‚   â”‚       â”‚       â””â”€â”€ pipeline.py
â”‚   â”‚       â”œâ”€â”€ __main__.py         # EntrÃ©e CLI du package Kedro
â”‚   â”‚       â”œâ”€â”€ pipeline_registry.py# DÃ©claration des pipelines disponibles
â”‚   â”‚       â”œâ”€â”€ run_kedro.py        # Script de lancement d'un pipeline via kedro-boot
â”‚   â”‚       â””â”€â”€ settings.py         # Hooks et configuration avancÃ©e Kedro
â”‚   â””â”€â”€ pyproject.toml              # Packaging, dÃ©pendances et config du sous-projet Kedro
â”‚
â”œâ”€â”€ requirements.txt                # DÃ©pendances Python globales du projet
â”œâ”€â”€ .gitignore                      # Fichiers et dossiers Ã  ignorer par git
â””â”€â”€ README.md                       # Documentation principale du projet
</code></pre>
<h2>ğŸš€ Installation</h2>
<h3>PrÃ©requis</h3>
<ul>
<li>Node.js (v18+ recommandÃ©)</li>
<li>MongoDB (local ou en ligne via MongoDB Atlas)</li>
</ul>
<h3>1. Cloner le projet</h3>
<pre class="prettyprint source lang-bash"><code>git clone https://github.com/J28u/insurance_assistant.git
cd insurance_assistant
</code></pre>
<h3>2. CrÃ©er une base MongoDB (pour l'historisation des conversations)</h3>
<ul>
<li>appeler cette base 'chatbotdb'</li>
<li>crÃ©er une collection users avec un utilisateur dont l'id est 68235ea293d0a7e8eab16d47</li>
<li>crÃ©er un fichier .env dans /backend/src avec les variables suivantes :</li>
</ul>
<pre class="prettyprint source lang-env"><code>MONGODB_URL = mongodb+srv://&lt;db_username>:&lt;db_password>@cluster0.agni83b.mongodb.net/chatbotdb?retryWrites=true&w=majority&appName=Cluster0
</code></pre>
<h3>3. Installer les dÃ©pendances Python (Kedro, LangChain, etc.)</h3>
<pre class="prettyprint source lang-bash"><code>pip install -r requirements.txt
</code></pre>
<h3>4. DÃ©ployer le LLM</h3>
<ul>
<li><a href="https://ollama.com/download">installer Ollama</a></li>
<li>tÃ©lÃ©charger le modÃ¨le choisi depuis Huggingface</li>
</ul>
<pre class="prettyprint source"><code>ollama pull hf.co/cognitivecomputations/Dolphin3.0-Llama3.1-8B-GGUF:Q6_K
</code></pre>
<ul>
<li>renseigner le nom du modÃ¨le dans le frontend (LLMInput ligne 79)</li>
</ul>
<pre class="prettyprint source"><code> model: &quot;hf.co/cognitivecomputations/Dolphin3.0-Llama3.1-8B-GGUF:Q6_K&quot;
</code></pre>
<ul>
<li>lancer le serveur en arriÃ¨re plan</li>
</ul>
<pre class="prettyprint source"><code>ollama serve
</code></pre>
<h3>5. DÃ©ployer le backend</h3>
<ul>
<li>installer les dÃ©pendances</li>
</ul>
<pre class="prettyprint source lang-bash"><code>cd backend
npm install
</code></pre>
<ul>
<li>lancer l'api :</li>
</ul>
<pre class="prettyprint source lang-bash"><code>cd src
node index.js
</code></pre>
<h3>6. DÃ©ployer le frontend</h3>
<ul>
<li>installer les dÃ©pendances</li>
</ul>
<pre class="prettyprint source lang-bash"><code>cd frontend
npm install
</code></pre>
<ul>
<li>lancer l'application</li>
</ul>
<pre class="prettyprint source lang-bash"><code>cd src
npm run dev
</code></pre>
<h3>7. Utilisation des pipelines Kedro</h3>
<h4>Changer le modÃ¨le d'embedding utilisÃ© par le rag:</h4>
<ul>
<li>Le chargement d'un pdf, entraine la crÃ©ation d'un vectorstore FAISS, sauvegardÃ© localement dans <a href="kedro_pipelines/data/04_feature/">'data/04_feature/'</a></li>
<li>Aller dans <a href="kedro_pipelines/conf/base/parameters.yml">conf/base/parameters.yml</a></li>
</ul>
<pre class="prettyprint source lang-bash"><code>embedding_model_name: &quot;OrdalieTech/Solon-embeddings-large-0.1&quot;
</code></pre>
<p>Par dÃ©faut, <a href="https://huggingface.co/OrdalieTech/Solon-embeddings-large-0.1">Solon-embeddings-large-0.1</a> est utilisÃ©.</p>
<h4>Lancer un pipeline Kedro</h4>
<ul>
<li>
<p>Le dossier <a href="kedro_pipelines/src">src</a> contient des &quot;packages&quot; Kedro, chaque 'package' contient plusieurs pipelines rÃ©pertoriÃ©s dans un fichier <a href="kedro_pipelines/src/rag/pipeline_registry.py">pipeline_registry</a>.</p>
</li>
<li>
<p>Pour choisir quel 'package' faire tourner, il faut modifier le fichier <a href="kedro_pipelines/pyproject.toml">pyproject.toml</a></p>
</li>
</ul>
<pre class="prettyprint source lang-bash"><code>[tool.kedro]
package_name = &quot;rag&quot;
</code></pre>
<ul>
<li>Pour exÃ©cuter un pipeline du package selectionnÃ© : kedro run --pipeline &lt;nom_du_pipeline&gt;</li>
</ul>
<pre class="prettyprint source lang-bash"><code>kedro run --pipeline embedding
</code></pre>
<p>Vous trouverez les noms de pipelines Ã  exÃ©cuter dans <a href="kedro_pipelines/src/rag/pipeline_registry.py">pipeline_registry</a>. Par exemple: embedding, classic_rag.</p>
<p>Pour plus d'options, veuillez consulter la documentation <a href="https://docs.kedro.org">Kedro</a></p>
<h4>Bonnes pratiques Kedro</h4>
<ul>
<li>Ne supprimez aucune ligne du fichier .gitignore fourni.</li>
<li>Ne versionnez pas de donnÃ©es dans votre dÃ©pÃ´t. Gardez les dans <a href="kedro_pipelines/data">'data/'</a></li>
<li>Ne versionnez pas de mots de passe ou de configuration locale dans votre dÃ©pÃ´t. Gardez toutes vos informations sensibles et configurations locales dans <a href="kedro_pipelines/conf/local/">'conf/local/'</a>.</li>
</ul>
<h2>ğŸ“¡ API - Endpoint principaux</h2>
<ul>
<li>POST /api/conversations/ : crÃ©er une nouvelle conversation</li>
<li>GET /api/conversations/user/:userId : rÃ©cupÃ©rer les conversations dâ€™un utilisateur</li>
<li>GET /api/conversations/onlyone/:conversationId : rÃ©cupÃ©rer les messages dâ€™une conversation</li>
<li>POST /api/upload/ : charger des pdfs, les dÃ©couper en chunks et sauvegarder leurs embeddings dans une base vectorielle.</li>
<li>GET /api/retriever/prompt_with_context/:question : rÃ©cupÃ©rer un prompt enrichi d'un contexte pertinent.</li>
</ul>
<h2>ğŸ§© Composants React</h2>
<ul>
<li>LLMInput.jsx : champ de message + boutons pour interagir avec le LLM</li>
<li>Conversation.jsx : affichage de la conversation (titre, messages utilisateur et LLM)</li>
<li>App.jsx : assemble lâ€™interface</li>
</ul>
<h2>âœ¨ FonctionnalitÃ©s</h2>
<ul>
<li>CrÃ©ation d'une conversation</li>
<li>Envoi de messages Ã  un LLM</li>
<li>Historisation dans MongoDB</li>
<li>UI dynamique avec React</li>
</ul>
<h2>ğŸ“š Sources</h2>
<ul>
<li>Tutoriel Clone de DeepSeek : <a href="https://www.youtube.com/watch?v=y3K4hji9W8g">Youtube</a></li>
</ul></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Wed Aug 27 2025 18:48:02 GMT+0200 (heure dâ€™Ã©tÃ© dâ€™Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>